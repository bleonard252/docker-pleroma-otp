# docker-pleroma-otp
This repository only exists to build Docker images for Pleroma.

## Installation
```sh
docker run --name <whatever you want to call it in Docker> <-v, see below> -p <host port>:4000 <more -p, see below> -it bleonard252/pleroma-otp
```
This'll spin up a nice little Docker instance for you. You need to run it in the command line first, to generate your instance configuration.

### Configuration
During the configuration process, YOU need to configure the following:
* `What domain will your instance use? (e.g pleroma.soykaf.com)`
* `What is the name of your instance? (e.g. The Corndog Emporium)`
* `What is your admin email address?`
You should set the following accordingly (but you don't have to):
* `Do you want to store the configuration in the database (allows controlling it from admin-fe)? (y/n) [n]` **Set to** `y`
You HAVE to set the following accordingly, or else it probably won't work:
* `What is the hostname of your database? [localhost]` **(leave as default)**
* `What is the name of your database? [pleroma]` **(leave as default)**
* `What is the user used to connect to your database? [pleroma]` **(leave as default)**
* `What is the password used to connect to your database? [autogenerated]` **(leave as default)**
* `Would you like to use RUM indices? [n]` **(leave as default)**
* `What port will the app listen to (leave it if you are using the default setup with nginx)? [4000]` **(leave as default)**
* `What ip will the app listen to (leave it if you are using the default setup with nginx)? [127.0.0.1]` **Set to** 0.0.0.0

### -v Volumes
Bind volumes in Docker are configured using a syntax like: `-v <host path>:<container path, see list>`
You can configure the following volumes (these are the container paths):
* `/etc/pleroma`: Config files
* `/var/lib/pleroma/uploads`: Uploads, if you're using the built in uploader (you probably are)
* `/var/lib/pleroma/static`: The static folder! This is where you set up custom emotes and themes.

### -p Ports
You can use these ports to set up SSH/BBS and Gopher support. The format is a lot like volumes: `-p <host port>:<container port>`
* `4000`: You need to have this one up to run your server.

